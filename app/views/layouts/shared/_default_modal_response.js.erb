$('#defaultModal .modal-footer').remove();
$('#defaultModal .modal-body').remove();
$('#defaultModal form').remove();
$('#dynamic-content').html('<%= escape_javascript(render :template => "#{target}", :formats => [:html], :handlers => [:erb]) %>'); //this contains both footer and body
$('#defaultModal .modal-header h4').text('<%= @title %>'); // don't need a footer here
<% if !options[:class].blank? %>
$('#defaultModal').addClass('<%= options[:class] %>');
<% end %>
$('#defaultModal .modal-dialog').removeClass().addClass('modal-dialog');
<% if !options[:dialog_class].blank? %>
$('#defaultModal .modal-dialog').addClass('<%= options[:dialog_class] %>');
<% end %>
$('.other-modals').modal('hide');
$('#defaultModal').modal('show');
